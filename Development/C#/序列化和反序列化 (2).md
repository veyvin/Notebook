序列化和反序列化 (2)
<div>

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; color: rgb(0, 0, 0); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important;">

<span style="font-size: 15px;">**序列化：**</span>

</div>

</div>

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; min-width: 0px; clear: both;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; vertical-align: middle; height: 23px; position: relative; z-index: 1;">

<div dir="ltr"
style="font-family: 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; font-size: 13px; height: 22px; float: left; width: auto; padding: 0px 15px; vertical-align: baseline; color: rgb(112, 112, 112); border-style: solid; border-width: 1px; border-color: rgb(147, 147, 147) rgb(147, 147, 147) rgb(255, 255, 255); font-style: normal !important; border-top-left-radius: 4px; background-color: transparent;">

[C\#]()

</div>

<div dir="ltr"
style="font-family: 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; font-size: 13px; height: 22px; float: left; width: auto; padding: 0px 15px; vertical-align: baseline; color: rgb(42, 42, 42); border-top-style: solid; border-top-width: 1px; border-top-color: rgb(147, 147, 147); border-right-style: solid; border-right-width: 1px; border-right-color: rgb(147, 147, 147); font-style: normal !important; border-top-right-radius: 4px; background-color: transparent;">

[VB](https://msdn.microsoft.com/zh-cn/library/ms172873.aspx?cs-save-lang=1&amp;cs-lang=vb#code-snippet-1)

</div>

</div>

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; border: 1px solid rgb(147, 147, 147); clear: both; margin-bottom: 12px; position: relative; top: -1px;">

<div dir="ltr"
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; width: auto; margin: 0px; padding: 10px 21px;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; padding: 0px; margin: 0px; color: black;">

``` {style="font-family: Consolas, Courier, monospace !important; padding: 5px; margin: 0px; font-style: normal; font-weight: normal; overflow: auto; word-wrap: normal;"}
public class XMLWrite
{

   static void Main(string[] args)
    {
        WriteXML();
    }


    public class Book
    {
        public String title; 
    }


    public static void WriteXML()
    {
        Book overview = new Book();
        overview.title = "Serialization Overview";
        System.Xml.Serialization.XmlSerializer writer = 
            new System.Xml.Serialization.XmlSerializer(typeof(Book));

        var path = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments) + "//SerializationOverview.xml";
        System.IO.FileStream file = System.IO.File.Create(path);

        writer.Serialize(file, overview);
        file.Close();
    }
}
```

</div>

</div>

</div>

</div>

</div>

<div
style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">

<div
style="font-weight: normal; margin: 0px; padding-bottom: 5px; padding-top: 5px;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; color: rgb(0, 0, 0); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important;">

<span style="font-size: 15px;">**反序列化：**</span>

</div>

</div>

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; clear: both;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; vertical-align: middle; height: 23px; position: relative; z-index: 1;">

<div dir="ltr"
style="font-family: 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; font-size: 13px; height: 22px; float: left; width: auto; padding: 0px 15px; vertical-align: baseline; color: rgb(112, 112, 112); border-style: solid; border-width: 1px; border-color: rgb(147, 147, 147) rgb(147, 147, 147) rgb(255, 255, 255); font-style: normal !important; border-top-left-radius: 4px; background-color: transparent;">

[C\#]()

</div>

<div dir="ltr"
style="font-family: 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; font-size: 13px; height: 22px; float: left; width: auto; padding: 0px 15px; vertical-align: baseline; color: rgb(42, 42, 42); border-top-style: solid; border-top-width: 1px; border-top-color: rgb(147, 147, 147); border-right-style: solid; border-right-width: 1px; border-right-color: rgb(147, 147, 147); font-style: normal !important; border-top-right-radius: 4px; background-color: transparent;">

[VB](https://msdn.microsoft.com/zh-cn/library/ms172872.aspx?cs-save-lang=1&amp;cs-lang=vb#code-snippet-1)

</div>

</div>

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; border: 1px solid rgb(147, 147, 147); clear: both; margin-bottom: 12px; position: relative; top: -1px;">

<div dir="ltr"
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; width: auto; margin: 0px; padding: 10px 21px;">

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; padding: 0px; margin: 0px; color: black;">

<div
style="font-family: Consolas, Courier, monospace !important; padding: 5px; margin: 0px; font-style: normal; font-weight: normal; overflow: auto;">

<span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">public</span> <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">class</span> Book\
{\
    <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">public</span> String title;\
}       \
\
<span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">public</span> <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">void</span> ReadXML()\
{\
    <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: green;">// First write something so that there is something to read ...</span>\
    <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">var</span> b = <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">new</span> Book { title = <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: rgb(163, 21, 21);">"Serialization Overview"</span> };\
    <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">var</span> writer = <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">new</span> System.Xml.Serialization.XmlSerializer(<span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">typeof</span>(Book));\
    <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">var</span> wfile = <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">new</span> System.IO.StreamWriter(<span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: rgb(163, 21, 21);">@"c:\\temp\\SerializationOverview.xml"</span>);\
    writer.Serialize(wfile, b);\
    wfile.Close();\
\
    <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: green;">// Now we can read the serialized book ...</span>\
    System.Xml.Serialization.XmlSerializer reader = \
        <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">new</span> System.Xml.Serialization.XmlSerializer(<span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">typeof</span>(Book));\
    System.IO.StreamReader file = <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: blue;">new</span> System.IO.StreamReader(\
        <span
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif !important; color: rgb(163, 21, 21);">@"c:\\temp\\SerializationOverview.xml"</span>);\
    Book overview =  (Book)reader.Deserialize(file);\
    file.Close();\
\
    Console.WriteLine(overview.title);\
\
<div>

}

</div>

</div>

</div>

</div>

</div>

</div>

</div>

<div
style="font-family: 'Microsoft YaHei UI', 'Microsoft YaHei', SimSun, 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; color: rgb(0, 0, 0); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">

<div
style="font-family: 'Segoe UI Semibold', 'Segoe UI', 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; color: rgb(0, 0, 0); font-weight: normal; margin: 0px; padding-bottom: 5px; padding-top: 5px; font-size: 23px;">

<div>

\

</div>

</div>

</div>

</div>

</div>

</div>
