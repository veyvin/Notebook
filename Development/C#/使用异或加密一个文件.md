使用异或加密一个文件
<div>

<div>

异或是一种最简单的加密方式，解密的时候只要再对加密的部分与相同的值进行异或就能恢复成为加密时的字节

</div>

<div
style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;">

<div>

private byte key = 0x0A;

</div>

<div>

\

</div>

<div>

public bool EncryptFile( string path)

</div>

<div>

  {

</div>

<div>

    FileStream fs = new FileStream (path, FileMode .Open, FileAccess
.ReadWrite);

</div>

<div>

    bool success = false;

</div>

<div>

  try

</div>

<div>

  {

</div>

<div>

    byte\[\] buffer = new byte\[1024\];

</div>

<div>

    fs.Read(buffer, 0, buffer.Length);

</div>

<div>

    for ( int i = 0; i &lt; buffer.Length; i++)

</div>

<div>

    {

</div>

<div>

      buffer\[i\] \^= key;

</div>

<div>

    }

</div>

<div>

    fs.Seek(0, SeekOrigin .Begin);

</div>

<div>

    fs.Write(buffer, 0, buffer.Length);

</div>

<div>

    fs.Flush();

</div>

<div>

    success = true;

</div>

<div>

  }

</div>

<div>

  catch ( Exception)

</div>

<div>

  {

</div>

<div>

    success = false;

</div>

<div>

  }

</div>

<div>

  finally

</div>

<div>

  {

</div>

<div>

    fs.Close();

</div>

<div>

  }

</div>

<div>

  return success;

</div>

<div>

}

</div>

</div>

<div>

\

</div>

</div>
