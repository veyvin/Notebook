[帮酷问答](http://qa.helplib.com/)

-   [问题](http://qa.helplib.com/)
-   [标签](http://qa.helplib.com/tags)
-   [文章](http://www.helplib.com/)
-   [文档库](http://doc.helplib.com/)

相关问题
--------

-   [在Git的提交消息，应该使用过去或者现在的时态？](http://qa.helplib.com/128810)
-   [git pull VS git fetch git rebase](http://qa.helplib.com/141341)
-   [SSH Private Key Permissions using Git GUI or ssh-keygen are too open](http://qa.helplib.com/137031)
-   [Git恢复已删除文件](http://qa.helplib.com/127008)
-   [如果使用CocoaPods，插入cd .gitignore 会发生什么？](http://qa.helplib.com/138412)
-   [在Windows, Git bash 'git diff'，怎么退出结果？](http://qa.helplib.com/138274)
-   [命令行里将换行符添加到git commit -m](http://qa.helplib.com/129660)
-   [Git互操作性和Mercurial Repository](http://qa.helplib.com/163205)
-   [从网站更名应用程序为heroku,但是现在找不到](http://qa.helplib.com/151056)
-   [commit 和Git cherrypick是什么意思？](http://qa.helplib.com/150559)

最受欢迎标签
------------

[C\#](http://qa.helplib.com/tag/C#) [JAVA](http://qa.helplib.com/tag/JAVA) [Javascript](http://qa.helplib.com/tag/Javascript) [PHP](http://qa.helplib.com/tag/PHP) [GIT](http://qa.helplib.com/tag/GIT) [String](http://qa.helplib.com/tag/String) [性能](http://qa.helplib.com/tag/性能) [Windows](http://qa.helplib.com/tag/Windows) [Visual Studio](http://qa.helplib.com/tag/Visual%20Studio) [算法](http://qa.helplib.com/tag/算法) [Node.js](http://qa.helplib.com/tag/Node.js) [BASH](http://qa.helplib.com/tag/BASH) [C++11](http://qa.helplib.com/tag/C++11) [Haskell](http://qa.helplib.com/tag/Haskell) [多进程](http://qa.helplib.com/tag/多进程) [Scala](http://qa.helplib.com/tag/Scala) [Html5](http://qa.helplib.com/tag/Html5) [OSX](http://qa.helplib.com/tag/OSX) [Cocoa Touch](http://qa.helplib.com/tag/Cocoa%20Touch) [VIM](http://qa.helplib.com/tag/VIM) [SVN](http://qa.helplib.com/tag/SVN) [面向对象](http://qa.helplib.com/tag/面向对象) [Shell](http://qa.helplib.com/tag/Shell) [调试](http://qa.helplib.com/tag/调试) [Ruby On Rails 3](http://qa.helplib.com/tag/Ruby%20On%20Rails%203) [LINQ](http://qa.helplib.com/tag/LINQ) [列表](http://qa.helplib.com/tag/列表) [Visual Studio 2010](http://qa.helplib.com/tag/Visual%20Studio%202010) [Generics](http://qa.helplib.com/tag/Generics) [HTTP](http://qa.helplib.com/tag/HTTP) [安全](http://qa.helplib.com/tag/安全) [语言无关](http://qa.helplib.com/tag/语言无关) [例外](http://qa.helplib.com/tag/例外) [Google Chrome](http://qa.helplib.com/tag/Google%20Chrome) [UNIX](http://qa.helplib.com/tag/UNIX) [Twitter Bootstrap](http://qa.helplib.com/tag/Twitter%20Bootstrap) [Github](http://qa.helplib.com/tag/Github) [日期时间](http://qa.helplib.com/tag/日期时间) [Postgresql](http://qa.helplib.com/tag/Postgresql) [TSQL](http://qa.helplib.com/tag/TSQL) [Cocoa](http://qa.helplib.com/tag/Cocoa) [GCC](http://qa.helplib.com/tag/GCC) [Asp.net Mvc 3](http://qa.helplib.com/tag/Asp.net%20Mvc%203) [图像](http://qa.helplib.com/tag/图像) [优化](http://qa.helplib.com/tag/优化) [文件](http://qa.helplib.com/tag/文件) [Winforms](http://qa.helplib.com/tag/Winforms) [REST](http://qa.helplib.com/tag/REST) [PERL](http://qa.helplib.com/tag/PERL) [命令行](http://qa.helplib.com/tag/命令行)

欢迎来到 帮酷问答,本站急需大量中英文双语句子,以便产生更高质量的内容, 如果您愿意有这方面资源,或者您愿意和我们一起探索文本信息处理,请发送邮件至<netxiao@qq.com> 。

70 可读性

 将光标移到文章中的句子上，可以查看原文。 显示译文      显示原文      双语对照

![](Git在pull%20时强制覆盖本地文件_Force%20Git%20to%20overwrite%20local%20fi_files/blue-loading.gif)语言切换进行中,请稍候...

 
=

[分享](http://www.jiathis.com/share/) | []( "分享到微博") []( "分享到QQ书签") []( "分享到开心网") []( "分享到人人网")

Git在pull 时强制覆盖本地文件
Force Git to overwrite local files on pull

 1870 0

[]()
如何强制覆盖以上本地文件 [Git](http://en.wikipedia.org/wiki/Git_(software)) pull？

该方案可以如下：

-   团队成员的修改模板以满足网站正在想办法解决
-   他是将一些图片添加到我ages目录(但是却忘记了将其添加源代码管理下的)
-   他后来将图片通过邮件发送给我
-   我是将图像添加到源代码管理之下，使之在GitHub和其他更改
-   他不能把更新从GitHub，因为git不会覆盖已存在的文件。

我去到的错误是：

> 错误： 无法跟踪的工作树中的文件'public/我ages/icon.gif\]'会被合并。

如何强制git覆盖它们？ 每台都在播他的设计我通常会用手工解决所有冲突，服务器以上有最新版本，他只是需要更新其计算机。

-   [git](http://qa.helplib.com/tag/git)
-   [version-control](http://qa.helplib.com/tag/version-control)
-   [git-pull](http://qa.helplib.com/tag/git-pull)
-   [git-fetch](http://qa.helplib.com/tag/git-fetch)

 时间: 15年06月10日 原作者: [Cupcake](http://qa.helplib.com/user/Cupcake)

[]()
你需要保留本地的未跟踪文件中不存在的服务器？ 或者你需要本地服务器以上的文件保持它们是否比？ ( 这两个觉得十分需要，下面回答问题似乎暗示杀死了所有未跟踪文件) 。

 评论时间 70年01月01日 原作者: [Simon B.](http://qa.helplib.com/user/Simon%20B.)

[]()
为什么不备份这些文件，然后拖动？

 评论时间 70年01月01日 原作者: [ClassicThunder](http://qa.helplib.com/user/ClassicThunder)

[]()
 @classicThunder我看不懂你的逻辑。 为什么有人会想要备份的文件ѿ 到系统信息库中的其他位置。 中的文件是一个完整的克隆的版本库。 当然，我们可以将其删除manua，万一有好几百个放在不同的目录中覆盖时，会更多正义的力量拉近。

 评论时间 70年01月01日 原作者: [user1651105](http://qa.helplib.com/user/user1651105)

 2651 0

[]()
重要事项： 如果你有任何本地更改，这些更改将丢失。 使用或者不使用 `--hard`选项，所有本地提交还没有推送都将丢失。 \[\\ \*\]\\ 
----------------------------------------------------------------------------------------------------------------------------

如果你有任何的文件通过git ( e .g *不是*跟踪。 上传的用户内容)，这些文件不受影响。

------------------------------------------------------------------------

我想这是正确的方式：

``` prettyprint-override
git fetch --all
git reset --hard origin/master
```

### 说明： 

`git fetch`从远程下载最新的而没有任何试图合并或者rebase 。

然后， `git reset`master分支重置到刚刚获取的内容。 。 `--hard`选项会在你的工作目录树中的所有文件中匹配文件 `origin/master`

------------------------------------------------------------------------

\[\\ \*\]\\ : 值得关注的是，有可能保持当前的本地提交，可以创建一个分支起源 `master`然后再重置：

``` prettyprint-override
git checkout master
git branch new-branch-to-save-current-commits
git fetch --all
git reset --hard origin/master
```

此后，所有旧的提交将会保持 `new-branch-to-save-current-commits`. 但是未提交的更改( 即使是升级的)，都将丢失。 请确保你要在暂存和提交任何东西。

 发布时间:15年06月10日 原作者: [Madara Uchiha](http://qa.helplib.com/user/Madara%20Uchiha)

 443 0

[]()
请尝试以下方法：

``` prettyprint-override
git reset --hard HEAD
git pull
```

应该随你的便

 发布时间:15年06月10日 原作者: [Travis R](http://qa.helplib.com/user/Travis%20R)

 224 0

[]()
**WARNING ：** `git clean`将清除所有未跟踪files/directories并不能还原。

------------------------------------------------------------------------

戴两个套 `clean -f`哭是没用的 如果你还未跟踪DIRECTORIES，d 选项还需要：

``` prettyprint-override
git reset --hard HEAD
git clean -f -d
git pull
```

 发布时间:15年06月10日 原作者: [jmort253](http://qa.helplib.com/user/jmort253)

 153 0

[]()
故事Hedgehog我想答案太可恶了 但是虽然他可能更好，我不认为它是像可能是一样优雅。 我发现这样做的方式是使用" 获取" 和" 合并" 具有已定义的策略。 它应该进行设置，使你的本地更改会得以保留，只要它们不试图强制覆盖使用的文件之一。

所做的更改 **首先执行commit操作，**

``` prettyprint-override
 git add *
 git commit -a -m "auto dev server commit"
```

然后 提取更改并覆盖是否存在冲突

``` prettyprint-override
 git fetch origin master
 git merge -s recursive -X theirs origin/master
```

 发布时间:15年06月10日 原作者: [Buildrr LLC](http://qa.helplib.com/user/Buildrr%20LLC)

 117 0

[]()
以往那种喋喋不休的纪录片：

``` prettyprint-override
git fetch --all
git reset --hard origin/master
```

我建议如下：

``` prettyprint-override
git fetch origin
git reset --hard origin/master
```

不需要获取所有远程主机如果要重置为origin/master分支对不对？

 发布时间:15年06月10日 原作者: [antak](http://qa.helplib.com/user/antak)

 82 0

[]()
貌似最好的方法是首先要做的是：

``` prettyprint-override
git clean
```

进入删除所有未跟踪文件，然后进行通常的git pull 。。。。

 发布时间:15年06月10日 原作者: [Jakub Troszok](http://qa.helplib.com/user/Jakub%20Troszok)

 54 0

[]()
你可能会发现这里命令很有帮助你想把本地的改动：

``` prettyprint-override
git checkout <your-branch> -f
```

然后执行清理( Removes无法跟踪的工作树中的文件) ：

``` prettyprint-override
git clean -f
```

如果要删除内容的未跟踪目录除了未跟踪文件：

``` prettyprint-override
git clean -fd
```

 发布时间:15年06月10日 原作者: [Vishal](http://qa.helplib.com/user/Vishal)

 44 0

[]()
似乎这些糟糕的答案，做的不好的含义变化@Lauri按照David Avsajanishvili建议。

而( git &gt; v1 .7 。6 ) ：

``` prettyprint-override
git stash --include-untracked
git pull
```

以后就可以在stash清除历史。

手动一个接one:

``` prettyprint-override
$ git stash list
stash@{0}: WIP on <branch>: ...
stash@{1}: WIP on <branch>: ...

$ git stash drop stash@{0}
$ git stash drop stash@{1}
```

在once:残酷，所有

``` prettyprint-override
$ git stash clear
```

当然如果你想回到你藏起来：

``` prettyprint-override
$ git stash list
...
$ git stash apply stash@{5}
```

 发布时间:15年06月10日 原作者: [Hedgehog](http://qa.helplib.com/user/Hedgehog)

 31 0

[]()
我有我的评论的答案可能会被重新提交请求：

并未进行合并使用 `git pull`，可以尝试git `fetch --all`后跟 `git reset --hard origin/master`

 发布时间:15年06月10日 原作者: [Gerald Schneider](http://qa.helplib.com/user/Gerald%20Schneider)

 28 0

[]()
所有这些解决方案的问题在于它们都太复杂，也不支持，还有一个更大问题时，他们将会从web服务器删除所有未跟踪文件，我们也不想让他们因为仍是用于所有配置文件都是在服务器以上而不是在git存储库。

我们用的是最整洁的，解决方法如下：

``` lang-bash
# Fetch the newest code
git fetch

# Delete all files which are being added, so there
# are no conflicts with untracked files
for file in `git diff HEAD..origin/master --name-status | awk '/^A/ {print $2}'`
do
    rm -f -- "$file"
done

# Checkout all files which were locally modified
for file in `git diff --name-status | awk '/^[CDMRTUX]/ {print $2}'`
do
    git checkout -- "$file"
done

# Finally pull all the changes
# (you could merge as well e.g. 'merge origin/master')
git pull
```

-   第一个命令取最新的数据。

-   其中第二个命令会检查是否有任何文件被添加到存储库和本地库中删除这些未跟踪文件，这将导致冲突。

-   其中第三条命令签出的所有文件都在本地修改。

-   最后我们把升级到最新版本,但是这次没有任何冲突，因为它位于Repo未跟踪文件已经不存在了，本地修改的所有文件都在库中相同。

 发布时间:15年06月10日 原作者: [Cupcake](http://qa.helplib.com/user/Cupcake)

Copyright © 2011 HelpLib All rights reserved.    [知识分享协议](http://www.helplib.com/help/copyright.php)   [手机版](http://m.qa.helplib.com/)
[京ICP备05059198号-3](http://www.miibeian.gov.cn/)    

...

A team member is modifying the templates for a website we are working on

He is adding some images to the images directory (but forgets to add them under source control)

He is sending later the images by mail to me

option, any local commits that haven't been pushed will be lost.

does not help.

In case you have untracked DIRECTORIES, -d option also needed:

The guy is a designer - usually I resolve all the conflicts by hand so the server has the most recent version that he just needs to update on his computer.


